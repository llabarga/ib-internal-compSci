(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"175bd1b173aa04241fba":function(e,t,r){"use strict";r.r(t);var n=r("8af190b70a6bc55c6f1b"),a=r.n(n),i=r("0d7f0986bcd2f33d8a2a"),o=r("d7dd51e1bf6bfc2c9c3d"),c=r("a28fc3c963a1d4d1a2e5"),l=r("41c9f1bdd49dd417b493"),u=r("07c9056747b5d7a845ca");function s(e){return{type:u.v,newItems:e}}function m(){return{type:u.w}}var f=r("adc20f99e57c573c589c"),p=r("d95b0cf107403b178365"),d=r("7f32b0c526f770b9ab85"),b=r("8ca1e3e339297bc60d9e"),E=r("d782b72bc5b680c7122c");function y(e){return function(e){if(Array.isArray(e))return x(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return x(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return x(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){v(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var w=regeneratorRuntime.mark(A),O=regeneratorRuntime.mark(R),j=regeneratorRuntime.mark(D),S=regeneratorRuntime.mark(B),F=regeneratorRuntime.mark(P),I=regeneratorRuntime.mark(J),k=regeneratorRuntime.mark(M);function C(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))}var T=function(){var e=["Kibana","Cloud","Maps","Observability"];return"logo".concat(e[Math.floor(Math.random()*e.length)])};function A(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=JSON.parse(localStorage.getItem("timers")),t.next=3,Object(E.put)((r=e,{type:u.t,examList:r}));case 3:case"end":return t.stop()}var r}),w)}function R(e){var t,r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t=h(h({},e),{},{id:C()}),(r=JSON.parse(localStorage.getItem("timers")))?r.push(t):r=[t],localStorage.setItem("timers",JSON.stringify(r)),n.next=8,Object(E.put)((i=t,o=void 0,{type:u.k,exam:i,toast:o}));case 8:n.next=11;break;case 10:throw new Error(resp.body.message);case 11:n.next=18;break;case 13:return n.prev=13,n.t0=n.catch(0),console.log(n.t0),n.next=18,Object(E.put)((a=n.t0.message,{type:u.j,msg:a,toast:{text:a}}));case 18:case"end":return n.stop()}var a,i,o}),O,null,[[0,13]])}function D(e){var t;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t=(t=JSON.parse(localStorage.getItem("timers"))).map((function(t){return t.id===e.id?h({},e):t})),localStorage.setItem("timers",JSON.stringify(t)),r.next=7,Object(E.put)((a=e,{type:u.q,exam:a,toast:{text:"Success!"}}));case 7:r.next=10;break;case 9:throw new Error(resp.body.message);case 10:r.next=16;break;case 12:return r.prev=12,r.t0=r.catch(0),r.next=16,Object(E.put)((n=r.t0.message,{type:u.p,msg:n,toast:{text:n}}));case 16:case"end":return r.stop()}var n,a}),j,null,[[0,12]])}function B(){var e,t,r,n,a,i,o,c,l,u,s;return regeneratorRuntime.wrap((function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,Object(E.select)(Object(d.a)());case 2:if(e=f.sent,t=e.name,r=e.description,n=e.subject,a=e.level,i=e.duration,o=e.fecha,c=e.currentlyEditing,l=new Date,u={name:t,subject:n,description:r,level:a,duration:i,fecha:o,icon:T()},!c){f.next=19;break}return s={id:c},u=h(h(h({},u),s),{},{updated_at:l.toISOString()}),f.next=17,D(u);case 17:f.next=22;break;case 19:return console.log(u),f.next=22,R(u);case 22:return f.next=24,Object(E.put)(m());case 24:case"end":return f.stop()}}),S)}function P(e){var t;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,(t=JSON.parse(localStorage.getItem("timers"))).splice(t.findIndex((function(t){return t.id===e.item.id})),1),localStorage.setItem("timers",JSON.stringify(t)),r.next=7,Object(E.put)((a=e.item.id,i={title:"Exam ".concat(e.item.id," succesfully deleted.")},{type:u.n,id:a,toast:i}));case 7:r.next=10;break;case 9:throw new Error(resp.body.message);case 10:r.next=17;break;case 12:return r.prev=12,r.t0=r.catch(0),console.log(r.t0),r.next=17,Object(E.put)((n=r.t0.message,{type:u.m,msg:n,toast:{text:n}}));case 17:case"end":return r.stop()}var n,a,i}),F,null,[[0,12]])}function J(){var e,t,r,n;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(E.select)(Object(d.a)());case 2:return e=a.sent,t=e.newItems,(r=JSON.parse(localStorage.getItem("timers")))?(n=r).push.apply(n,y(t.map((function(e){return h(h({},e),{},{id:C(),icon:T()})})))):r=t.map((function(e){return h(h({},e),{},{id:C(),icon:T()})})),localStorage.setItem("timers",JSON.stringify(r)),a.next=9,Object(E.put)(s(t));case 9:case"end":return a.stop()}}),I)}function M(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(E.takeLatest)(u.r,A);case 2:return e.next=4,Object(E.takeLatest)(u.o,B);case 4:return e.next=6,Object(E.takeLeading)(u.l,P);case 6:return e.next=8,Object(E.takeLatest)(u.u,J);case 8:case"end":return e.stop()}}),k)}var N=r("6ca6a6bf6a00549f8531"),$=(Object(N.defineMessages)({header:{id:"".concat("app.containers.Admin",".header")}}),r("7b99bc7c7ee280a323b0")),z=Object(N.defineMessages)({header:{id:"".concat("app.components.TimerTable",".header"),defaultMessage:" "}});function U(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(n=(o=c.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==c.return||c.return()}finally{if(a)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return G(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return G(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function L(e){var t=e.items,r=e.onRowEdit,i=(e.onRowClone,e.onRowDelete),o=U(Object(n.useState)(0),2),c=o[0],u=o[1],s=U(Object(n.useState)(5),2),m=s[0],f=s[1],p=U(Object(n.useState)(!0),2),d=p[0],b=(p[1],{pageIndex:c,pageSize:m,totalItemCount:t.length,pageSizeOptions:[3,5,8],hidePerPageOptions:!d}),E=[{field:"name",name:"Examen",sortable:!0},{field:"subject",name:"Asignatura"},{field:"duration",name:"Duraci\xf3n",sortable:!0},{name:"Actions",width:"20%",actions:[{id:"edit",name:"Edit",description:"Edit this exam",icon:"pencil",type:"icon",isPrimary:!0,onClick:r},{id:"delete",name:"Delete",description:"Delete this exam",icon:"trash",type:"icon",color:"danger",onClick:i}]}];return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",null,a.a.createElement(N.FormattedMessage,z.header)),a.a.createElement(l.EuiBasicTable,{items:t.slice(c*m,c*m+m),columns:E,pagination:b,onChange:function(e){var t=e.page,r=void 0===t?{}:t,n=r.index,a=r.size;u(n),f(a)}}))}L.propTypes={};var H=Object(n.memo)(L);function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(n=(o=c.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==c.return||c.return()}finally{if(a)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return W(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return W(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var q=Object(c.b)({admin:Object(d.a)()});function K(){Object(p.a)({key:"admin",reducer:b.a}),Object(f.a)({key:"admin",saga:M}),Object(n.useEffect)((function(){t({type:u.r})}),[]);var e=Object(o.useSelector)(q).admin,t=Object(o.useDispatch)(),r=_(Object(n.useState)(!1),2),c=r[0],s=r[1],m=_(Object(n.useState)(!1),2),d=m[0],E=m[1],y=_(Object(n.useState)({}),2),x=(y[0],y[1],_(Object(n.useState)(!1),1)[0],function(e){for(var t=e.split("\n"),r=[],n=t[0].split(","),a=1;a<t.length;a++){for(var i={},o=t[a].split(","),c=0;c<n.length;c++)i[n[c].replace(/^["'](.+(?=["']$))["']$/,"$1")]=o[c].replace(/^["'](.+(?=["']$))["']$/,"$1");r.push(i)}return r}),g=function(e){var r=e[0],n=new FileReader;n.onload=function(e){var r;console.log(x(e.target.result)),t((r=x(e.target.result),{type:u.e,newItems:r}))},n.readAsText(r)};return a.a.createElement("div",null,a.a.createElement(i.Helmet,null,a.a.createElement("title",null,"Admin"),a.a.createElement("meta",{name:"description",content:"Description of Admin"})),a.a.createElement($.a,{title:"Administration"},a.a.createElement(l.EuiFlexGroup,{direction:"column"},a.a.createElement(l.EuiFlexItem,null,a.a.createElement("div",{style:{display:"flex",flexDirection:"row-reverse"}},a.a.createElement(l.EuiButton,{onClick:function(){s(!0)},iconType:"listAdd",size:"s",style:{marginRight:"10px"}},"New timer"),a.a.createElement(l.EuiButton,{onClick:function(){return E(!0)},iconType:"listAdd",size:"s",style:{marginRight:"10px"}},"Upload file"))),a.a.createElement(l.EuiFlexItem,null,a.a.createElement(H,{items:e.items,onRowEdit:function(e){var r;s(!c),t((r=e.id,{type:u.g,itemId:r}))},onRowDelete:function(e){t(function(e){return{type:u.l,item:e}}(e))}}))),c?a.a.createElement(l.EuiFlyout,{onClose:function(){return s(!1)},"aria-labelledby":"flyoutTitle",hideCloseButton:!0},a.a.createElement(l.EuiFlyoutHeader,{hasBorder:!0},a.a.createElement(l.EuiTitle,{size:"m"},a.a.createElement("h2",{id:"flyoutTitle"},"Define timer"))),a.a.createElement(l.EuiFlyoutBody,null,a.a.createElement(l.EuiForm,null,a.a.createElement(l.EuiFlexGroup,{style:{maxWidth:600},direction:"column"},a.a.createElement(l.EuiFlexItem,{grow:!1},a.a.createElement(l.EuiFormRow,{label:"Exam name",helpText:"Exam name."},a.a.createElement(l.EuiFieldText,{name:"name",placeholder:"Exam name",onChange:function(e){return t((r=e.target.value,{type:u.f,name:r}));var r},value:e.name}))),a.a.createElement(l.EuiFlexItem,{grow:!1},a.a.createElement(l.EuiFormRow,{label:"Exam subject",helpText:"Exam subject."},a.a.createElement(l.EuiFieldText,{name:"name",placeholder:"Subject",onChange:function(e){return t((r=e.target.value,{type:u.h,subject:r}));var r},value:e.subject}))),a.a.createElement(l.EuiFlexItem,{grow:!1},a.a.createElement(l.EuiFormRow,{label:"Select level"},a.a.createElement(l.EuiSelect,{options:[{value:"option_one",text:"High level"},{value:"option_two",text:"Standard level"}],onChange:function(e){return t((r=e.target.value,{type:u.d,level:r}));var r},value:e.level}))),a.a.createElement(l.EuiFlexItem,{grow:!1},a.a.createElement(l.EuiFormRow,{label:"Exam date",helpText:"Exam date."},a.a.createElement(l.EuiDatePicker,{selected:e.fecha,onChange:function(e){return t((r=e,{type:u.a,fecha:r}));var r}}))),a.a.createElement(l.EuiFlexItem,{grow:!1},a.a.createElement(l.EuiFormRow,{label:"Exam duration",helpText:"Exam duration."},a.a.createElement(l.EuiFieldNumber,{placeholder:"Time in minutes",value:e.duration,onChange:function(e){return t((r=e.target.value,{type:u.c,duration:r}));var r},"aria-label":"Use aria labels when no actual label is in use"})))))),a.a.createElement(l.EuiFlyoutFooter,null,a.a.createElement(l.EuiFlexGroup,{justifyContent:"spaceBetween"},a.a.createElement(l.EuiFlexItem,{grow:!1},a.a.createElement(l.EuiButtonEmpty,{iconType:"cross",onClick:function(){s(!1)},flush:"left"},"Close")),a.a.createElement(l.EuiFlexItem,{grow:!1},a.a.createElement(l.EuiButton,{onClick:function(){s(!1),t({type:u.o})},fill:!0},"Save"))))):void 0,d?a.a.createElement(l.EuiFlyout,{onClose:function(){return E(!1)},"aria-labelledby":"flyoutTitle",hideCloseButton:!0},a.a.createElement(l.EuiFlyoutHeader,{hasBorder:!0},a.a.createElement(l.EuiTitle,{size:"m"},a.a.createElement("h2",{id:"flyoutTitle"},"Define timer"))),a.a.createElement(l.EuiFlyoutBody,null,a.a.createElement(l.EuiText,null,a.a.createElement("p",null,"Define the parameters for your timer")),a.a.createElement(l.EuiSpacer,null),a.a.createElement(l.EuiForm,null,a.a.createElement(l.EuiFlexGroup,{style:{maxWidth:600},direction:"column"},a.a.createElement(l.EuiFlexItem,{grow:!1},a.a.createElement(l.EuiFormRow,{label:"Exam list",helpText:"Exam list."},a.a.createElement(l.EuiFilePicker,{id:"asdf2",initialPromptText:"Select or drag and drop a file with exams",onChange:function(e){g(e)},"aria-label":"Use aria labels when no actual label is in use"})))))),a.a.createElement(l.EuiFlyoutFooter,null,a.a.createElement(l.EuiFlexGroup,{justifyContent:"spaceBetween"},a.a.createElement(l.EuiFlexItem,{grow:!1},a.a.createElement(l.EuiButtonEmpty,{iconType:"cross",onClick:function(){return E(!1)},flush:"left"},"Close")),a.a.createElement(l.EuiFlexItem,{grow:!1},a.a.createElement(l.EuiButton,{onClick:function(){t({type:u.u}),E(!1)},fill:!0},"Save"))))):void 0))}K.propTypes={};t.default=Object(n.memo)(K)}}]);