(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"175bd1b173aa04241fba":function(e,t,r){"use strict";r.r(t);var n=r("8af190b70a6bc55c6f1b"),a=r.n(n),o=r("0d7f0986bcd2f33d8a2a"),i=r("d7dd51e1bf6bfc2c9c3d"),c=r("a28fc3c963a1d4d1a2e5"),l=r("41c9f1bdd49dd417b493"),u=r("38286be06888d3d6a0f7"),s=r("adc20f99e57c573c589c"),m=r("d95b0cf107403b178365"),f=r("7f32b0c526f770b9ab85"),d=r("8ca1e3e339297bc60d9e"),b=r("d782b72bc5b680c7122c"),p=r("07c9056747b5d7a845ca");function E(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var O=regeneratorRuntime.mark(T),j=regeneratorRuntime.mark(A),v=regeneratorRuntime.mark(R),w=regeneratorRuntime.mark(D),S=regeneratorRuntime.mark(B),F=regeneratorRuntime.mark(P),I=regeneratorRuntime.mark(N);function k(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))}var C=function(){var e=["Kibana","Cloud","Maps","Observability"];return"logo".concat(e[Math.floor(Math.random()*e.length)])};function T(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(localStorage.getItem("timers")),e=JSON.parse(localStorage.getItem("timers"))||[],console.log(e),t.next=5,Object(b.put)(Object(u.o)(e));case 5:case"end":return t.stop()}}),O)}function A(e){var t,r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t=y(y({},e),{},{id:k()}),(r=JSON.parse(localStorage.getItem("timers")))?r.push(t):r=[t],localStorage.setItem("timers",JSON.stringify(r)),n.next=8,Object(b.put)(Object(u.g)(t));case 8:n.next=11;break;case 10:throw new Error(resp.body.message);case 11:n.next=18;break;case 13:return n.prev=13,n.t0=n.catch(0),console.log(n.t0),n.next=18,Object(b.put)(Object(u.f)(n.t0.message));case 18:case"end":return n.stop()}}),j,null,[[0,13]])}function R(e){var t;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t=(t=JSON.parse(localStorage.getItem("timers"))).map((function(t){return t.id===e.id?y({},e):t})),localStorage.setItem("timers",JSON.stringify(t)),r.next=7,Object(b.put)(Object(u.m)(e));case 7:r.next=10;break;case 9:throw new Error(resp.body.message);case 10:r.next=16;break;case 12:return r.prev=12,r.t0=r.catch(0),r.next=16,Object(b.put)(Object(u.l)(r.t0.message));case 16:case"end":return r.stop()}}),v,null,[[0,12]])}function D(){var e,t,r,n,a,o,i,c,l,s,m;return regeneratorRuntime.wrap((function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,Object(b.select)(Object(f.a)());case 2:if(e=d.sent,t=e.name,r=e.description,n=e.subject,a=e.level,o=e.duration,i=e.fecha,c=e.currentlyEditing,l=new Date,s={name:t,subject:n,description:r,level:a,duration:o,fecha:i,icon:C()},!c){d.next=19;break}return m={id:c},s=y(y(y({},s),m),{},{updated_at:l.toISOString()}),d.next=17,R(s);case 17:d.next=22;break;case 19:return console.log(s),d.next=22,A(s);case 22:return d.next=24,Object(b.put)(Object(u.t)());case 24:case"end":return d.stop()}}),w)}function B(e){var t;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,(t=JSON.parse(localStorage.getItem("timers"))).splice(t.findIndex((function(t){return t.id===e.item.id})),1),localStorage.setItem("timers",JSON.stringify(t)),r.next=7,Object(b.put)(Object(u.j)(e.item.id,{title:"Exam ".concat(e.item.id," succesfully deleted.")}));case 7:r.next=10;break;case 9:throw new Error(resp.body.message);case 10:r.next=17;break;case 12:return r.prev=12,r.t0=r.catch(0),console.log(r.t0),r.next=17,Object(b.put)(Object(u.i)(r.t0.message));case 17:case"end":return r.stop()}}),S,null,[[0,12]])}function P(){var e,t,r,n;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(b.select)(Object(f.a)());case 2:return e=a.sent,t=e.newItems,(r=JSON.parse(localStorage.getItem("timers")))?(n=r).push.apply(n,E(t.map((function(e){return y(y({},e),{},{id:k(),icon:C()})})))):r=t.map((function(e){return y(y({},e),{},{id:k(),icon:C()})})),localStorage.setItem("timers",JSON.stringify(r)),a.next=9,Object(b.put)(Object(u.r)(t));case 9:case"end":return a.stop()}}),F)}function N(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.takeLatest)(p.r,T);case 2:return e.next=4,Object(b.takeLatest)(p.o,D);case 4:return e.next=6,Object(b.takeLeading)(p.l,B);case 6:return e.next=8,Object(b.takeLatest)(p.u,P);case 8:case"end":return e.stop()}}),I)}var M=r("6ca6a6bf6a00549f8531"),J=(Object(M.defineMessages)({header:{id:"".concat("app.containers.Admin",".header")}}),r("7b99bc7c7ee280a323b0")),$=Object(M.defineMessages)({header:{id:"".concat("app.components.TimerTable",".header"),defaultMessage:" "}});function z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==c.return||c.return()}finally{if(a)throw o}}return r}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return U(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return U(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function G(e){var t=e.items,r=e.onRowEdit,o=(e.onRowClone,e.onRowDelete),i=z(Object(n.useState)(0),2),c=i[0],u=i[1],s=z(Object(n.useState)(5),2),m=s[0],f=s[1],d=z(Object(n.useState)(!0),2),b=d[0];d[1];console.log(t);var p={pageIndex:c,pageSize:m,totalItemCount:t.length,pageSizeOptions:[3,5,8],hidePerPageOptions:!b},E=[{field:"name",name:"Examen",sortable:!0},{field:"subject",name:"Asignatura"},{field:"duration",name:"Duraci\xf3n",sortable:!0},{name:"Actions",width:"20%",actions:[{id:"edit",name:"Edit",description:"Edit this exam",icon:"pencil",type:"icon",isPrimary:!0,onClick:r},{id:"delete",name:"Delete",description:"Delete this exam",icon:"trash",type:"icon",color:"danger",onClick:o}]}];return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",null,a.a.createElement(M.FormattedMessage,$.header)),a.a.createElement(l.EuiBasicTable,{items:t.slice(c*m,c*m+m),columns:E,pagination:p,onChange:function(e){var t=e.page,r=void 0===t?{}:t,n=r.index,a=r.size;u(n),f(a)}}))}G.propTypes={};var H=Object(n.memo)(G);function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==c.return||c.return()}finally{if(a)throw o}}return r}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return W(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return W(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var q=Object(c.b)({admin:Object(f.a)()});function K(){Object(m.a)({key:"admin",reducer:d.a}),Object(s.a)({key:"admin",saga:N}),Object(n.useEffect)((function(){t(Object(u.n)())}),[]);var e=Object(i.useSelector)(q).admin,t=Object(i.useDispatch)(),r=L(Object(n.useState)(!1),2),c=r[0],f=r[1],b=L(Object(n.useState)(!1),2),p=b[0],E=b[1],g=L(Object(n.useState)({}),2),x=(g[0],g[1],L(Object(n.useState)(!1),1)[0],function(e){for(var t=e.split("\n"),r=[],n=t[0].split(","),a=1;a<t.length;a++){for(var o={},i=t[a].split(","),c=0;c<n.length;c++)o[n[c].replace(/^["'](.+(?=["']$))["']$/,"$1")]=i[c].replace(/^["'](.+(?=["']$))["']$/,"$1");r.push(o)}return r});return a.a.createElement("div",null,a.a.createElement(o.Helmet,null,a.a.createElement("title",null,"Admin"),a.a.createElement("meta",{name:"description",content:"Description of Admin"})),a.a.createElement(J.a,{title:"Administration"},a.a.createElement(l.EuiFlexGroup,{direction:"column"},a.a.createElement(l.EuiFlexItem,null,a.a.createElement("div",{style:{display:"flex",flexDirection:"row-reverse"}},a.a.createElement(l.EuiButton,{onClick:function(){f(!0)},iconType:"listAdd",size:"s",style:{marginRight:"10px"}},"New timer"),a.a.createElement(l.EuiButton,{onClick:function(){return E(!0)},iconType:"listAdd",size:"s",style:{marginRight:"10px"}},"Upload file"))),a.a.createElement(l.EuiFlexItem,null,a.a.createElement(H,{items:e.items,onRowEdit:function(e){f(!c),t(Object(u.s)(e.id))},onRowDelete:function(e){t(Object(u.h)(e))}}))),c?a.a.createElement(l.EuiFlyout,{onClose:function(){return f(!1)},"aria-labelledby":"flyoutTitle",hideCloseButton:!0},a.a.createElement(l.EuiFlyoutHeader,{hasBorder:!0},a.a.createElement(l.EuiTitle,{size:"m"},a.a.createElement("h2",{id:"flyoutTitle"},"Define timer"))),a.a.createElement(l.EuiFlyoutBody,null,a.a.createElement(l.EuiForm,null,a.a.createElement(l.EuiFlexGroup,{style:{maxWidth:600},direction:"column"},a.a.createElement(l.EuiFlexItem,{grow:!1},a.a.createElement(l.EuiFormRow,{label:"Exam name",helpText:"Exam name."},a.a.createElement(l.EuiFieldText,{name:"name",placeholder:"Exam name",onChange:function(e){return t(Object(u.d)(e.target.value))},value:e.name}))),a.a.createElement(l.EuiFlexItem,{grow:!1},a.a.createElement(l.EuiFormRow,{label:"Exam subject",helpText:"Exam subject."},a.a.createElement(l.EuiFieldText,{name:"name",placeholder:"Subject",onChange:function(e){return t(Object(u.e)(e.target.value))},value:e.subject}))),a.a.createElement(l.EuiFlexItem,{grow:!1},a.a.createElement(l.EuiFormRow,{label:"Select level"},a.a.createElement(l.EuiSelect,{options:[{value:"NS",text:"High level"},{value:"NM",text:"Standard level"}],onChange:function(e){return t(Object(u.c)(e.target.value))},value:e.level}))),a.a.createElement(l.EuiFlexItem,{grow:!1},a.a.createElement(l.EuiFormRow,{label:"Exam date",helpText:"Exam date."},a.a.createElement(l.EuiDatePicker,{selected:e.fecha,onChange:function(e){return t(Object(u.a)(e))}}))),a.a.createElement(l.EuiFlexItem,{grow:!1},a.a.createElement(l.EuiFormRow,{label:"Exam duration",helpText:"Exam duration."},a.a.createElement(l.EuiFieldNumber,{placeholder:"Time in minutes",value:e.duration,onChange:function(e){return t(Object(u.b)(e.target.value))},"aria-label":"Use aria labels when no actual label is in use"})))))),a.a.createElement(l.EuiFlyoutFooter,null,a.a.createElement(l.EuiFlexGroup,{justifyContent:"spaceBetween"},a.a.createElement(l.EuiFlexItem,{grow:!1},a.a.createElement(l.EuiButtonEmpty,{iconType:"cross",onClick:function(){f(!1)},flush:"left"},"Close")),a.a.createElement(l.EuiFlexItem,{grow:!1},a.a.createElement(l.EuiButton,{onClick:function(){f(!1),t(Object(u.k)())},fill:!0},"Save"))))):void 0,p?a.a.createElement(l.EuiFlyout,{onClose:function(){return E(!1)},"aria-labelledby":"flyoutTitle",hideCloseButton:!0},a.a.createElement(l.EuiFlyoutHeader,{hasBorder:!0},a.a.createElement(l.EuiTitle,{size:"m"},a.a.createElement("h2",{id:"flyoutTitle"},"Define timer"))),a.a.createElement(l.EuiFlyoutBody,null,a.a.createElement(l.EuiText,null,a.a.createElement("p",null,"Define the parameters for your timer")),a.a.createElement(l.EuiSpacer,null),a.a.createElement(l.EuiForm,null,a.a.createElement(l.EuiFlexGroup,{style:{maxWidth:600},direction:"column"},a.a.createElement(l.EuiFlexItem,{grow:!1},a.a.createElement(l.EuiFormRow,{label:"Exam list",helpText:"Exam list."},a.a.createElement(l.EuiFilePicker,{id:"asdf2",initialPromptText:"Select or drag and drop a file with exams",onChange:function(e){!function(e){var r=e[0],n=new FileReader;n.onload=function(e){console.log(x(e.target.result)),t(Object(u.p)(x(e.target.result)))},n.readAsText(r)}(e)},"aria-label":"Use aria labels when no actual label is in use"})))))),a.a.createElement(l.EuiFlyoutFooter,null,a.a.createElement(l.EuiFlexGroup,{justifyContent:"spaceBetween"},a.a.createElement(l.EuiFlexItem,{grow:!1},a.a.createElement(l.EuiButtonEmpty,{iconType:"cross",onClick:function(){return E(!1)},flush:"left"},"Close")),a.a.createElement(l.EuiFlexItem,{grow:!1},a.a.createElement(l.EuiButton,{onClick:function(){t(Object(u.q)()),E(!1)},fill:!0},"Save"))))):void 0))}K.propTypes={};t.default=Object(n.memo)(K)}}]);